apiVersion: batch/v1
kind: Job
metadata:
  annotations:
    kubectl.kubernetes.io/last-applied-configuration: |
      {"apiVersion":"batch/v1","kind":"Job","metadata":{"annotations":{},"name":"argocd-add-cluster-staging","namespace":"default"},"spec":{"backoffLimit":1,"template":{"spec":{"containers":[{"command":["/usr/bin/env","bash","/kubeconfig/cluster_add.sh"],"env":[{"name":"KIND_CLUSTER_NAME","value":"kind-staging"},{"name":"KIND_CLUSTER_LABEL_ARGS","value":"--label tier=staging --label env=platform "},{"name":"KIND_ARGOCD_ADMIN_PASS","valueFrom":{"secretKeyRef":{"key":"password","name":"argocd-initial-admin-secret"}}}],"image":"quay.io/argoproj/argocd:latest","name":"argocd","volumeMounts":[{"mountPath":"/kubeconfig","name":"kubecontexts","readOnly":true}]}],"restartPolicy":"Never","volumes":[{"name":"kubecontexts","secret":{"secretName":"kubecontexts"}}]}}}}
  creationTimestamp: "2025-12-22T11:46:16Z"
  generation: 1
  labels:
    batch.kubernetes.io/controller-uid: 79935aef-1180-40cd-bc09-796b36815ff7
    batch.kubernetes.io/job-name: argocd-add-cluster-staging
    controller-uid: 79935aef-1180-40cd-bc09-796b36815ff7
    job-name: argocd-add-cluster-staging
  name: argocd-add-cluster-staging
  namespace: default
  resourceVersion: "3721"
  uid: 79935aef-1180-40cd-bc09-796b36815ff7
spec:
  backoffLimit: 1
  completionMode: NonIndexed
  completions: 1
  manualSelector: false
  parallelism: 1
  podReplacementPolicy: TerminatingOrFailed
  selector:
    matchLabels:
      batch.kubernetes.io/controller-uid: 79935aef-1180-40cd-bc09-796b36815ff7
  suspend: false
  template:
    metadata:
      labels:
        batch.kubernetes.io/controller-uid: 79935aef-1180-40cd-bc09-796b36815ff7
        batch.kubernetes.io/job-name: argocd-add-cluster-staging
        controller-uid: 79935aef-1180-40cd-bc09-796b36815ff7
        job-name: argocd-add-cluster-staging
    spec:
      containers:
      - command:
        - /usr/bin/env
        - bash
        - /kubeconfig/cluster_add.sh
        env:
        - name: KIND_CLUSTER_NAME
          value: kind-staging
        - name: KIND_CLUSTER_LABEL_ARGS
          value: '--label tier=staging --label env=platform '
        - name: KIND_ARGOCD_ADMIN_PASS
          valueFrom:
            secretKeyRef:
              key: password
              name: argocd-initial-admin-secret
        image: quay.io/argoproj/argocd:latest
        imagePullPolicy: Always
        name: argocd
        resources: {}
        terminationMessagePath: /dev/termination-log
        terminationMessagePolicy: File
        volumeMounts:
        - mountPath: /kubeconfig
          name: kubecontexts
          readOnly: true
      dnsPolicy: ClusterFirst
      restartPolicy: Never
      schedulerName: default-scheduler
      securityContext: {}
      terminationGracePeriodSeconds: 30
      volumes:
      - name: kubecontexts
        secret:
          defaultMode: 420
          secretName: kubecontexts
status:
  completionTime: "2025-12-22T11:46:21Z"
  conditions:
  - lastProbeTime: "2025-12-22T11:46:21Z"
    lastTransitionTime: "2025-12-22T11:46:21Z"
    message: Reached expected number of succeeded pods
    reason: CompletionsReached
    status: "True"
    type: SuccessCriteriaMet
  - lastProbeTime: "2025-12-22T11:46:21Z"
    lastTransitionTime: "2025-12-22T11:46:21Z"
    message: Reached expected number of succeeded pods
    reason: CompletionsReached
    status: "True"
    type: Complete
  ready: 0
  startTime: "2025-12-22T11:46:16Z"
  succeeded: 1
  terminating: 0
  uncountedTerminatedPods: {}
